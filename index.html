<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>InfraImpact - Duurzaamheid die stand houdt.</title>
  <meta name="description" content="InfraImpact maakt duurzaamheid tastbaar, toetsbaar en toepasbaar met MKI- en LCA-berekeningen, strategisch inzicht en praktijkervaring in de GWW-sector.">

  <!-- Performance hints -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="InfraImpact – Duurzaamheid die stand houdt">
  <meta property="og:description" content="MKI- en LCA-berekeningen, aanbestedingsadvies en praktische sturing voor de GWW-sector.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/assets/og-infraimpact.jpg">
  <meta property="og:locale" content="nl_NL">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Libraries -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <script async src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <style>
    :root {
      --brand-green: #2F6F65;
      --brand-blue: #2B536D;
      --ink: #374151;
    }

    body {
      background: linear-gradient(120deg, #ffffff, #f8fbfd, #e8f3f0, #eaf3f7);
      background-size: 400% 400%;
      animation: bgMove 60s ease infinite;
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    }

    @keyframes bgMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    header { background: transparent; }

    .text-gradient {
      background: linear-gradient(90deg, var(--brand-green), var(--brand-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    [data-animate] {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity .7s ease, transform .7s ease;
    }
    [data-animate].visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Rustige huisstijl-achtergrond voor 'Van data naar dialoog' */
    .section-brand {
      background-color: #E5EFED; /* zachte tint uit huisstijl (lichtgroen-blauw) */
    }

    /* Sticky nav + scroll direction */
    nav {
      position: sticky;
      top: 0;
      background-color: #ffffffcc; /* lichte transparantie */
      backdrop-filter: blur(6px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      z-index: 50;
    }
    .scroll-down { transform: translateY(-100%); }
    .scroll-up { transform: translateY(0); }

    /* Toegankelijkheid */
    :focus-visible { outline:3px solid var(--brand-green); outline-offset:3px }

    html { scroll-behavior: smooth; }
    /* Zorg dat ankernavigatie niet onder de sticky nav valt */
    [id] { scroll-margin-top: 96px; }

    a.button, a.px-6, a.px-8 {
      transition: transform 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
    }
    a.button:hover, a.px-6:hover, a.px-8:hover { transform: translateY(-1px); }

    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition: none !important; }
    }
  </style>
</head>

<body class="bg-transparent text-gray-700">
  <div id="top"></div>

  <!-- NAV -->
  <nav id="nav" class="transition-transform duration-300">
    <div class="max-w-screen-xl mx-auto flex justify-between items-center py-4 px-6 sm:px-8">
      <a href="#top" class="flex items-center">
        <img src="assets/logo_full.png" alt="InfraImpact logo" class="h-10 w-auto hover:opacity-90 transition" />
      </a>
      <div class="hidden md:flex items-center space-x-8 text-gray-700 font-medium">
        <a href="over.html" class="hover:text-green-700">Over ons</a>
        <a href="#wat" class="hover:text-green-700">Wat we doen</a>
        <a href="#inzicht" class="hover:text-green-700">Inzichten</a>
        <a href="#contact" class="hover:text-green-700">Contact</a>
        <a href="mailto:jim.vanderkooij@infraimpact.nl" class="inline-flex items-center px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-500">Plan kennismaking</a>
      </div>
      <!-- Mobile menu button -->
      <button id="menuBtn" class="md:hidden p-2 rounded hover:bg-gray-100" aria-expanded="false" aria-controls="mobileMenu" aria-label="Menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
      </button>
    </div>
    <div id="mobileMenu" class="md:hidden hidden border-t bg-white">
      <div class="max-w-screen-xl mx-auto px-6 sm:px-8 py-3 space-y-2">
        <a href="over.html" class="block py-2">Over ons</a>
        <a href="#wat" class="block py-2">Wat we doen</a>
        <a href="#inzicht" class="block py-2">Inzichten</a>
        <a href="#contact" class="block py-2">Contact</a>
        <a href="mailto:jim.vanderkooij@infraimpact.nl" class="inline-flex items-center px-4 py-2 rounded-xl bg-green-600 text-white hover:bg-green-500">Plan kennismaking</a>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="relative overflow-hidden bg-transparent">
    <section class="max-w-screen-xl mx-auto w-full px-6 sm:px-8 grid md:grid-cols-2 gap-10 items-center py-20 md:py-28" style="isolation:isolate">
      <div data-animate>
        <p class="text-green-500 font-semibold uppercase tracking-wide">Making sustainability count</p>
        <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mt-2 text-gradient">
          Duurzaamheid die stand houdt, in cijfers en in de praktijk
        </h1>
        <p class="text-lg mt-5 text-gray-700">
          InfraImpact helpt aannemers, opdrachtgevers en leveranciers om duurzaamheid
          <strong>tastbaar, toetsbaar en toepasbaar</strong> te maken.
          Met betrouwbare <strong>MKI- en LCA-data</strong>, aanbestedingskennis en ervaring aan beide kanten van de tafel vertalen we ambities naar aantoonbare resultaten.
        </p>
        <div class="mt-8 flex flex-wrap gap-4">
          <a href="mailto:jim.vanderkooij@infraimpact.nl" class="px-6 py-3 rounded-xl bg-green-600 hover:bg-green-500 transition text-white font-medium">
            Plan een kennismaking
          </a>
          <a href="#wat" class="px-6 py-3 rounded-xl bg-white text-gray-700 border border-gray-300 hover:bg-green-50 hover:border-green-400 transition font-medium shadow-sm">
            Bekijk onze aanpak
          </a>
        </div>
      </div>

      <div class="hidden md:flex justify-center items-center" data-animate>
        <img src="assets/logo_full.png" alt="InfraImpact visual"
             width="640" height="320" loading="lazy" decoding="async"
             class="max-h-80 w-auto object-contain opacity-0 transition-opacity duration-1000"
             onload="this.style.opacity='1'" />
      </div>
    </section>
  </header>

  <main>
    <!-- WAT WE DOEN -->
    <section id="wat" class="w-full py-20 md:py-24 bg-gray-50">
      <div class="max-w-screen-xl mx-auto px-6 sm:px-8">
        <div class="max-w-3xl mx-auto text-center mb-12" data-animate>
          <h2 class="text-3xl md:text-4xl font-bold text-gradient mb-4">Wat we doen</h2>
          <p class="text-gray-700">
            Wij maken duurzaamheid praktisch voor aannemers, opdrachtgevers en leveranciers.
            Van het opstellen van MKI-berekeningen tot strategisch advies in aanbestedingen en beleid.
          </p>
        </div>

        <div class="grid md:grid-cols-2 gap-6" data-animate>
          <div class="p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-transform hover:-translate-y-1">
            <h3 class="text-xl font-semibold mb-2">LCA & MKI-berekeningen</h3>
            <p>Betrouwbare milieuprestaties van producten, materialen en projecten, conform huidige richtlijnen.
               Van volledige LCA’s tot MKI-berekeningen voor aanbestedingen en ontwerpoptimalisaties.</p>
          </div>

          <div class="p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-transform hover:-translate-y-1">
            <h3 class="text-xl font-semibold mb-2">Aanbesteding & projectadvies</h3>
            <p>Voor aannemers leggen we <strong>kosten en MKI naast elkaar</strong> om het optimale resultaat te behalen in aanbestedingen.
               Praktisch, onderbouwd en direct toepasbaar binnen de eisen van opdrachtgevers.</p>
          </div>

          <div class="p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-transform hover:-translate-y-1">
            <h3 class="text-xl font-semibold mb-2">Beleid, sturing & inzicht</h3>
            <p>Voor opdrachtgevers vertalen we beleidsdoelstellingen naar <strong>meetbare indicatoren</strong>.
               We bieden inzicht met actuele cijfers, zodat er gestuurd kan worden op duurzaamheidsambities door de hele projectcyclus heen.</p>
          </div>

          <div class="p-6 bg-white rounded-2xl shadow-sm hover:shadow-md transition-transform hover:-translate-y-1">
            <h3 class="text-xl font-semibold mb-2">Kennis & opleidingen</h3>
            <p>We delen kennis via <strong>praktijkgerichte cursussen en incompany trainingen</strong>.
               Van basisvaardigheden in MKI tot verdieping in regelgeving en LCA-methodiek, zo versterken we teams en borgen we kennis in jouw organisatie.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- INZICHTEN / DONUT -->
    <section id="inzicht" class="py-20 md:py-24 section-brand">
      <div class="max-w-screen-xl mx-auto px-6 sm:px-8 grid md:grid-cols-2 gap-10 items-center">
        <div data-animate>
          <div class="max-w-md mx-auto">
            <canvas id="impactChart" class="w-full h-56"
                    aria-label="Donutdiagram MKI-aandelen per levenscyclusfase" role="img"></canvas>
          </div>
          <p id="chart-desc" class="sr-only">
            Donutdiagram toont het MKI-aandeel per levenscyclusfase (som = 100%):
            Grondstoffen &amp; productie 55%, Transport 10%, Bouwfase 15%, Gebruik &amp; onderhoud 15%, Einde levensduur 5%.
          </p>
        </div>
        <div data-animate>
          <h2 class="text-3xl md:text-4xl font-bold text-gradient mb-4">Van data naar dialoog</h2>
          <p class="text-gray-700 mb-6">
            Compact overzicht van de MKI-verdeling: in één oogopslag zie je waar het grootste aandeel zit
            en dus waar sturing het meeste oplevert.
          </p>
          <ul class="space-y-3 text-gray-700">
            <li>• Inzicht in MKI en CO₂ per projectfase</li>
            <li>• Scenario’s en optimalisaties voor ontwerpkeuzes</li>
            <li>• Onderbouwingen voor aanbestedingen en audits</li>
            <li>• Strategisch advies en beleidsondersteuning</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- QUOTE -->
    <section class="py-16">
      <div class="max-w-3xl mx-auto text-center px-6 sm:px-8" data-animate>
        <blockquote class="text-xl italic text-gray-700 leading-relaxed">
          <strong>“Wij kennen beide kanten van de tafel.”</strong><br>
          Jarenlange ervaring bij zowel aannemers als opdrachtgevers zorgt dat we begrijpen wat werkt in de praktijk.
          We weten hoe je eisen vertaalt naar haalbare oplossingen en hoe je in aanbestedingen het maximale haalt
          uit duurzaamheid binnen tijd en budget.
        </blockquote>
      </div>
    </section>
  </main>

  <!-- FOOTER / CONTACT -->
  <footer id="contact" class="bg-white rounded-t-3xl shadow-inner pt-16 pb-10">
    <div class="max-w-screen-md mx-auto px-6 sm:px-8 text-center" data-animate>
      <h2 class="text-3xl md:text-4xl font-bold text-gradient mb-6">Samen bouwen aan aantoonbare duurzaamheid</h2>
      <p class="text-gray-700 mb-8">
        Benieuwd hoe jouw organisatie voordeel haalt uit MKI & LCA in aanbestedingen, projecten of beleid? We denken graag mee en reageren dezelfde werkdag.
      </p>
      <div class="space-y-2 text-gray-600">
        <p><strong>InfraImpact B.V.</strong></p>
        <p>Westzeedijk 639, 3024 PJ Rotterdam</p>
        <p>E: <a href="mailto:jim.vanderkooij@infraimpact.nl" class="text-green-700 underline">jim.vanderkooij@infraimpact.nl</a></p>
        <p>T: <a href="tel:+31621350805" class="text-green-700 underline">+31 (0)6 2135 0805</a></p>
      </div>
      <div class="mt-8">
        <a href="mailto:jim.vanderkooij@infraimpact.nl" class="px-8 py-3 rounded-xl bg-green-600 hover:bg-green-500 transition text-white font-medium">
          Plan een kennismaking
        </a>
      </div>
      <p class="text-gray-500 text-sm mt-12">
        © <span id="year"></span> InfraImpact - Making sustainability count.
      </p>
    </div>
  </footer>

  <!-- Achtergrond-streaks -->
  <canvas id="streaks" class="fixed inset-0 w-full h-full" style="z-index:-1;"></canvas>

  <script>
    // Jaar
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu toggle
    const btn = document.getElementById('menuBtn');
    const menu = document.getElementById('mobileMenu');
    if (btn && menu) {
      btn.addEventListener('click', () => {
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        menu.classList.toggle('hidden');
      });

      // Sluit mobile menu bij klik op link of Escape
      document.querySelectorAll('#mobileMenu a').forEach(a => {
        a.addEventListener('click', () => {
          menu.classList.add('hidden');
          btn.setAttribute('aria-expanded','false');
        });
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !menu.classList.contains('hidden')) {
          menu.classList.add('hidden');
          btn.setAttribute('aria-expanded','false');
        }
      });
    }

    // Reveal on scroll
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('[data-animate]').forEach(el => observer.observe(el));

    // Sticky nav show/hide op scrollrichting
    let lastY = window.scrollY; const nav = document.getElementById('nav');
    window.addEventListener('scroll', () => {
      const y = window.scrollY;
      if (y > lastY && y > 80) nav.classList.add('scroll-down'), nav.classList.remove('scroll-up');
      else nav.classList.add('scroll-up'), nav.classList.remove('scroll-down');
      lastY = y;
    }, { passive: true });

// =========================
//  MKI-donut: nette buitenlabels (clamp + anti-overlap + offset vanaf staart)
// =========================
window.addEventListener('load', function(){
  const canvas = document.getElementById('impactChart');
  if (!canvas || !window.Chart) return;

  // Data
  const labelsFull = [
    'Grondstoffen & productie',
    'Transport',
    'Bouwfase',
    'Gebruik & onderhoud',
    'Einde levensduur'
  ];
  // Houd labels kort voor maximale leesruimte
  const labelsShort = ['Productie','Transport','Bouw','Gebruik','Einde'];
  const values = [55, 10, 15, 15, 5];
  const colors = ['#2F6F65','#2B536D','#7ADAD3','#F59E0B','#9CA3AF'];

// Plugin: buitenlabels met anti-overlap + tether (max. verplaatsing t.o.v. eigen segment)
const outsideLabelsPlugin = {
  id: 'outsideLabels',
  afterDatasetsDraw(chart){
    const {ctx, chartArea:{top,bottom,left,right}} = chart;
    const meta = chart.getDatasetMeta(0);

    // typografie & metrics
    ctx.save();
    ctx.font = '13px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto';
    ctx.fillStyle = '#374151';
    ctx.strokeStyle = '#9CA3AF';
    ctx.lineWidth = 1;

    // Afstanden
    const labelOffset  = 26;   // afstand buiten de donut
    const tailLen      = 8;    // horizontaal staartje
    const textGap      = 9;    // ruimte tussen staartje en tekst
    const kneeOut      = 14;
    const lineH        = 18;   // minimale verticale ruimte per label
    const marginX      = 16;   // marge tot canvasrand
    const marginTop    = 22;
    const marginBottom = 14;
    const maxDelta     = 28;   // <— TETHER: max. |y - y0| zodat label bij “eigen” segment blijft

    // 1) Ruwe posities per arc (y0 = “eigen” segment-lijn)
    const items = meta.data.map((arc, i) => {
      const angle  = (arc.startAngle + arc.endAngle) / 2;
      const rOuter = arc.outerRadius;

      const x1 = arc.x + Math.cos(angle) * rOuter;
      const y1 = arc.y + Math.sin(angle) * rOuter;
      const x2 = arc.x + Math.cos(angle) * (rOuter + labelOffset);
      const y2 = arc.y + Math.sin(angle) * (rOuter + labelOffset);

      const alignLeft = Math.cos(angle) >= 0;

      // Tekst: naam + percentage
      const labelTxt = `${labelsShort[i]} ${values[i]}%`;
      const w = ctx.measureText(labelTxt).width;

      // Ruwe tekst-anker naast staartje
      const xTextRaw = x2 + (alignLeft ? tailLen + textGap : -(tailLen + textGap));
      const yTextRaw = y2; // = y0 (de natuurlijke projectie van het segment)

      return {
        i,
        txt: labelTxt,
        w,
        alignLeft,
        x1, y1, x2, y2,
        xTextRaw,
        y0: yTextRaw,  // <— Bewaar “eigen” y
        yText: 0,
        xText: 0
      };
    });

    // 2) Clamp X zodat tekst nooit buiten canvas valt
    items.forEach(it => {
      if (it.alignLeft){
        const maxLeft = right - marginX - it.w;
        it.xText = Math.min(it.xTextRaw, maxLeft);
      } else {
        const minRight = left + marginX + it.w;
        it.xText = Math.max(it.xTextRaw, minRight);
      }
      it.yText = it.y0; // start op eigen segmentlijn
    });

    // 3) Anti-overlap per zijde met tether
    function resolveSide(sideItems){
      if (sideItems.length === 0) return;

      // sorteer op natuurlijke positie (y0) zodat volgorde segmenten gerespecteerd blijft
      sideItems.sort((a,b)=>a.y0 - b.y0);

      const minY = top + marginTop;
      const maxY = bottom - marginBottom;

      // Voorwaartse sweep: dwing minimale afstand t.o.v. vorige
      sideItems[0].yText = Math.max(Math.min(sideItems[0].y0, maxY), minY);
      for (let k=1; k<sideItems.length; k++){
        const prev = sideItems[k-1];
        const cur  = sideItems[k];
        cur.yText = Math.max(cur.y0, prev.yText + lineH);
      }

      // Achterwaartse sweep: trek waar nodig terug vanaf onderkant
      for (let k=sideItems.length-2; k>=0; k--){
        const next = sideItems[k+1];
        const cur  = sideItems[k];
        cur.yText = Math.min(cur.yText, next.yText - lineH);
      }

      // Tether: beperk verplaatsing t.o.v. eigen segment (y0)
      sideItems.forEach(it=>{
        if (it.yText > it.y0 + maxDelta) it.yText = it.y0 + maxDelta;
        if (it.yText < it.y0 - maxDelta) it.yText = it.y0 - maxDelta;
      });

      // Een laatste lichte relax + clamp binnen grenzen
      // (zorgt dat spacing behouden blijft na tether)
      for (let k=1; k<sideItems.length; k++){
        const prev = sideItems[k-1];
        const cur  = sideItems[k];
        if (cur.yText - prev.yText < lineH){
          cur.yText = prev.yText + lineH;
        }
      }
      sideItems.forEach(it=>{
        it.yText = Math.min(Math.max(it.yText, minY), maxY);
      });
    }

    const leftSide  = items.filter(it=>!it.alignLeft);
    const rightSide = items.filter(it=> it.alignLeft);
    resolveSide(leftSide);
    resolveSide(rightSide);

// 4) Teken connector + tekst (radiaal -> extra naar buiten -> verticaal -> horizontaal)
items.forEach(it => {
  // Lijnstijl
  ctx.lineWidth = 1.1;
  ctx.lineCap = 'round';
  ctx.lineJoin = 'round';

  // Bepaal een veilige x-positie ruim buiten de donut voor de verticale sectie
  const sign = it.alignLeft ? 1 : -1;
  const R    = meta.data[it.i].outerRadius + labelOffset;
  const kneeX = meta.data[it.i].x + sign * (R + kneeOut); // altijd buiten de donut

  // 1) Radiaal naar buiten (tot op R)
  ctx.beginPath();
  ctx.moveTo(it.x1, it.y1);
  ctx.lineTo(it.x2, it.y2);

  // 2) Extra stap naar buiten zodat de volgende verticale lijn nooit het donutgebied raakt
  ctx.lineTo(kneeX, it.y2);

  // 3) Verticaal op kneeX naar het uitgerekende label-y
  ctx.lineTo(kneeX, it.yText);

  // 4) Horizontaal staartje, eindigt ruim vóór de tekst
  const xTailEnd = it.alignLeft
    ? (it.xText - textGap)          // links uitlijnen
    : (it.xText - it.w + textGap);  // rechts uitlijnen
  ctx.lineTo(xTailEnd, it.yText);
  ctx.stroke();

  // Tekst bovenop
  ctx.textBaseline = 'middle';
  ctx.textAlign = it.alignLeft ? 'left' : 'right';
  ctx.fillText(it.txt, it.xText, it.yText);
});

    ctx.restore();
  }
};

  new Chart(canvas, {
    type: 'doughnut',
    data: {
      labels: labelsFull,
      datasets: [{
        data: values,
        backgroundColor: colors,
        borderWidth: 0,
        hoverOffset: 8
      }]
    },
    options: {
      responsive: true,
      aspectRatio: 1.6,
      cutout: '62%',
      // Iets meer padding rondom voor labelruimte
      layout: { padding: { top: 34, right: 32, bottom: 26, left: 30 } },
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: {
            label: (item) => `${item.label}: ${item.parsed}%`,
            afterBody: (items) => items[0].dataIndex === 0
              ? ['Hier valt de meeste winst te behalen.']
              : []
          }
        }
      }
    },
    plugins: [outsideLabelsPlugin]
  });
});

    // Decoratieve streaks-animatie
    const c = document.getElementById('streaks');
    const ctx2 = c.getContext('2d');
    let w, h;
    function resize() {
      w = window.innerWidth;
      h = window.innerHeight;
      c.width = w;
      c.height = h;
    }
    window.addEventListener('resize', resize);
    resize();

    const streakColors = ['rgba(47,111,101,0.22)','rgba(43,83,109,0.22)','rgba(255,255,255,0.12)'];

    const streaks = Array.from({ length: 45 }, () => ({
      x: Math.random() * w,
      y: Math.random() * h,
      l: Math.random() * 80 + 40,
      s: Math.random() * 0.2 + 0.05,
      o: Math.random() * 0.3 + 0.1,
      d: Math.random() > 0.5 ? 1 : -1,
      a: Math.random() * Math.PI * 2,
      c: streakColors[Math.floor(Math.random() * streakColors.length)]
    }));

    function animate() {
      ctx2.clearRect(0, 0, w, h);
      streaks.forEach(s => {
        s.o += 0.01 * s.d;
        if (s.o <= 0 || s.o >= 1) s.d *= -1;
        ctx2.beginPath();
        // vervang alpha in de kleur naar actuele opaciteit
        const col = s.c.replace(/0\.\d+/, s.o.toFixed(2));
        ctx2.strokeStyle = col;
        ctx2.lineWidth = 1;
        const dx = Math.cos(s.a) * s.l;
        const dy = Math.sin(s.a) * s.l;
        ctx2.moveTo(s.x, s.y);
        ctx2.lineTo(s.x + dx, s.y + dy);
        ctx2.stroke();
        s.x += Math.cos(s.a) * s.s;
        s.y += Math.sin(s.a) * s.s;
        if (s.x < -50 || s.x > w + 50 || s.y < -50 || s.y > h + 50) {
          s.x = Math.random() * w;
          s.y = -10;
          s.a = Math.random() * Math.PI * 2;
          s.o = 0;
          s.d = 1;
        }
      });
      requestAnimationFrame(animate);
    }
    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) animate();
  </script>

  <noscript>
    <style>[data-animate]{opacity:1;transform:none}</style>
  </noscript>
</body>
</html>
